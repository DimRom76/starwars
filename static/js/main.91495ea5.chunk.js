(this.webpackJsonpstarwars=this.webpackJsonpstarwars||[]).push([[0],{27:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(4),c=n.n(a),s=n(19),i=n.n(s),o=(n(27),n(9));function u(e){var t=e.setPage;return Object(r.jsxs)("nav",{children:[Object(r.jsx)("button",{onClick:function(){return t("planets")},children:"Planet"}),Object(r.jsx)("button",{onClick:function(){return t("people")},children:"People"})]})}var j=n(10),l=n.n(j),d=n(13),p=n(33),b=function(e){var t=e.person;return Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)("h3",{children:t.name}),Object(r.jsxs)("p",{children:["Gender - ",t.gender]}),Object(r.jsxs)("p",{children:["Birth year - ",t.birth_year]})]})},h=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pageParam,a=r=void 0===n?null:n,null===r&&(a="http://swapi.dev/api/people/?page=1"),console.log("pageLoad :>> ",a),e.next=6,fetch(a);case 6:if((c=e.sent).ok){e.next=9;break}throw new Error("Network response was not ok");case 9:return e.abrupt("return",c.json());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(a.useState)(1),t=Object(o.a)(e,2),n=(t[0],t[1],Object(p.a)("people",h,{getNextPageParam:function(e){return e.next}})),s=n.isLoading,i=n.error,u=n.data,j=n.fetchNextPage,l=n.hasNextPage,d=n.isFetchingNextPage;return s?"Loading...":i?"An error has occurred: "+i.message:Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"People"}),Object(r.jsx)("div",{children:u.pages.map((function(e,t){return Object(r.jsx)(c.a.Fragment,{children:e.results.map((function(e){return Object(r.jsx)(b,{person:e},e.name)}))},t)}))}),Object(r.jsx)("div",{children:Object(r.jsx)("button",{onClick:function(){return j()},disabled:!l||d,children:d?"Loading more...":l?"Load More":"Nothing more to load"})})]})},O=n(31),f=function(e){var t=e.planet;return Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)("h3",{children:t.name}),Object(r.jsxs)("p",{children:["Population - ",t.population]}),Object(r.jsxs)("p",{children:["Terrain - ",t.terrain]})]})},v=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.queryKey,r=Object(o.a)(n,2),r[0],a=r[1],e.next=4,fetch("http://swapi.dev/api/planets/?page=".concat(a));case 4:if((c=e.sent).ok){e.next=7;break}throw new Error("Network response was not ok");case 7:return e.abrupt("return",c.json());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(a.useState)(1),t=Object(o.a)(e,2),n=t[0],c=t[1],s=Object(O.a)(["planets",n],v,{keepPreviousData:!0}),i=s.isLoading,u=s.error,j=s.data,l=s.isPreviousData;return i?"Loading...":u?"An error has occurred: "+u.message:Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:"Planets"}),Object(r.jsx)("button",{onClick:function(){return c((function(e){return Math.max(e-1,0)}))},disabled:1===n,children:"Previous Page"})," ",Object(r.jsxs)("span",{children:["Current Page: ",n]}),Object(r.jsx)("button",{onClick:function(){!l&&j.next&&c((function(e){return e+1}))},disabled:l||!j.next,children:"Next Page"}),Object(r.jsx)("div",{children:j.results.map((function(e){return Object(r.jsx)(f,{planet:e},e.name)}))})]})},m=n(32),w=n(20),P=n(21),k=new m.a;var N=function(){var e=Object(a.useState)("planets"),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(r.jsxs)(w.a,{client:k,children:[Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)("h1",{children:"Star Wars Info"}),Object(r.jsx)(u,{setPage:c}),Object(r.jsx)("div",{className:"context",children:"planets"===n?Object(r.jsx)(g,{}):Object(r.jsx)(x,{})})]}),Object(r.jsx)(P.ReactQueryDevtools,{initialOpen:!1})]})};i.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(N,{})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.91495ea5.chunk.js.map